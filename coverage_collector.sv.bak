class coverage_collector;
  
    virtual uart_intf vif; 

    // Covergroup: Trigger on Clock Edge
    covergroup cg_uart @(posedge vif.clk);
        option.per_instance = 1; 
        option.comment = "UART Protocol Coverage";

        // --- SECTION A ---
        cp_data_A: coverpoint vif.data_in_A {
            bins zero       = {8'h00};
            bins max        = {8'hFF};
            bins alt_01     = {8'h55};
            bins alt_10     = {8'hAA};
            bins lower      = {[1:100]};
            bins upper      = {[101:254]};
        }

        cp_start_A: coverpoint vif.tx_start_A {
            bins rise_edge = (0 => 1);
            bins fall_edge = (1 => 0);
        }

        // --- SECTION B ---
        cp_data_B: coverpoint vif.data_in_B {
            bins zero       = {8'h00};
            bins max        = {8'hFF};
            bins random[]   = {[1:254]}; 
        }

        cp_start_B: coverpoint vif.tx_start_B {
            bins rise_edge = (0 => 1);
        }

        // Cross Coverage
        cross_A_data_ctrl: cross cp_data_A, cp_start_A;

    endgroup

    function new(virtual uart_intf vif);
        this.vif = vif;
        cg_uart = new(); 
    endfunction

endclass